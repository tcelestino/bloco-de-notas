<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/bloco-de-notas/assets/css/main.css" />
    <title>Bloco de Notas por Tiago Celestino</title>
    <script defer src="https://cloud.umami.is/script.js" data-website-id="706bda1c-3aca-440d-b69a-905012ef0900"></script>
  </head>

  <body>
    <header class="top-header">
      <h1><a href="/bloco-de-notas/">Blocos de Notas</a></h1>
      <small>Por Tiago Celestino</small>
      <nav class="nav-links">
        <ul class="nav-pages">
          
            <li><a href="/bloco-de-notas/updates">Changelog</a></li>
          
        </ul>
        <ul class="nav-social">
          
            <li class="social-link-github"><a href="https://github.com/tcelestino"  target="_blank" rel="noopener noreferrer">Github</a></li>
          
            <li class="social-link-linkedin"><a href="https://linkedin.com/in/tcelestino"  target="_blank" rel="noopener noreferrer">Linkedin</a></li>
          
            <li class="social-link-bsky"><a href="https://bsky.app/profile/tcelestino.bsky.social"  target="_blank" rel="noopener noreferrer">Bsky</a></li>
          
            <li class="social-link-unsplash"><a href="https://unsplash.com/tcelestino"  target="_blank" rel="noopener noreferrer">Unsplash</a></li>
          
        </ul>
      </nav>
    </header>

    <main class="content-page">
      
<article>
  <header>
   <time datetime="Tue Jan 25 2022 00:00:00 GMT+0000 (Coordinated Universal Time)">
      25 de janeiro de 2022
    </time>
    <h1>Novidades do Javascript para 2022</h1>
  </header>
  <p>Esse ano não teremos tantas novidades planejadas para o Javascript (também pode chamar de ES2022), porém achei algumas dessas novidades interessantes.</p>
<h2>Top-level await</h2>
<p>Hoje, só conseguimos usar o operador <code>await</code> a partir de uma função assíncrona (<code>async</code>). A partir do ES2022, não haverá mais essa necessidade.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// antes</span>
<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUserData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// agora</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUserData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Não vamos precisar mais usar <a href="https://developer.mozilla.org/pt-BR/docs/Glossary/IIFE">IIFE (Immediately Invoked Function Expression)</a> para definir uma função assíncrona e usar o <code>await</code>.</p>
<h2>at()</h2>
<p>Quando precisamos capturar o último indíce de um array, hoje utilizamos a seguinte técnica:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastItem <span class="token operator">=</span> arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// bar</span></code></pre>
<p>A partir do ES2022, teremos o método <code>at()</code> para facilitar esse tipo de implementação.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastItem <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bar</span></code></pre>
<p>Vale lembrar que também podemos utilizar o <code>at</code> para recuperar qualquer indíce de um array.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastItem <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// foo</span></code></pre>
<p>Muito mais simples!!</p>
<h2>Classes sem construtor</h2>
<p>Agora vai ser possível criar classes sem um <code>constructor</code>. Se já criou componentes usando classes no <a href="https://reactjs.org">React.js</a>, utilizando o <a href="https://babeljs.io">Babel</a>, irá achar essa novidade bem interessante.</p>
<p>Agora podemos escrever classes assim:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  foo <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
  #bar <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

  <span class="token function-variable function">getFoo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">;</span>

  <span class="token function-variable function">boom</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// apenas um exemplo</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#bar <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>#bar<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Como você deve ter notado, também será possível usar informações privadas de uma classe utilizando o operador <code>#</code>.</p>
<p><em>Fonte: <a href="https://bytes.dev/archives/83">bytes.dev</a></em></p>

</article>

    </main>

    <footer class="content-footer">
      <small>built with <a href="https://11ty.dev" rel="noopener noreferrer" target="_blank">11ty</a></small>
    </footer>
  </body>
</html>
