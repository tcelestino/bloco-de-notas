<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/bloco-de-notas/assets/main.css" />
    <title>Bloco de Notas por Tiago Celestino</title>
  </head>

  <body>
    <header class="site-header">
      <div class="wrapper">
        <div class="top">
          <h1 class="top__title"><a href="/bloco-de-notas/">Blocos de Notas</a></h1>
        </div>
      </div>
    </header>

    <main class="page-content">
      <div class="wrapper">
<article class="post">
  <header class="post-header">
    <h1 class="post-title">Novidades do Javascript para 2022</h1>
    <p class="post-date">
      <time datetime="Tue Jan 25 2022 00:00:00 GMT+0000 (Coordinated Universal Time)">
        25 de janeiro de 2022
      </time>
    </p>
  </header>
  <div class="post-content"><p>Esse ano n√£o teremos tantas novidades planejadas para o Javascript (tamb√©m pode chamar de ES2022), por√©m achei algumas dessas novidades interessantes.</p>
<h2>Top-level await</h2>
<p>Hoje, s√≥ conseguimos usar o operador <code>await</code> a partir de uma fun√ß√£o ass√≠ncrona (<code>async</code>). A partir do ES2022, n√£o haver√° mais essa necessidade.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// antes</span>
<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUserData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// agora</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUserData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>N√£o vamos precisar mais usar <a href="https://developer.mozilla.org/pt-BR/docs/Glossary/IIFE">IIFE (Immediately Invoked Function Expression)</a> para definir uma fun√ß√£o ass√≠ncrona e usar o <code>await</code>.</p>
<h2>at()</h2>
<p>Quando precisamos capturar o √∫ltimo ind√≠ce de um array, hoje utilizamos a seguinte t√©cnica:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastItem <span class="token operator">=</span> arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// bar</span></code></pre>
<p>A partir do ES2022, teremos o m√©todo <code>at()</code> para facilitar esse tipo de implementa√ß√£o.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastItem <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bar</span></code></pre>
<p>Vale lembrar que tamb√©m podemos utilizar o <code>at</code> para recuperar qualquer ind√≠ce de um array.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastItem <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// foo</span></code></pre>
<p>Muito mais simples!!</p>
<h2>Classes sem construtor</h2>
<p>Agora vai ser poss√≠vel criar classes sem um <code>constructor</code>. Se j√° criou componentes usando classes no <a href="https://reactjs.org">React.js</a>, utilizando o <a href="https://babeljs.io">Babel</a>, ir√° achar essa novidade bem interessante.</p>
<p>Agora podemos escrever classes assim:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  foo <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
  #bar <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

  <span class="token function-variable function">getFoo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">;</span>

  <span class="token function-variable function">boom</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// apenas um exemplo</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#bar <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>#bar<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Como voc√™ deve ter notado, tamb√©m ser√° poss√≠vel usar informa√ß√µes privadas de uma classe utilizando o operador <code>#</code>.</p>
<p><em>Fonte: <a href="https://bytes.dev/archives/83">bytes.dev</a></em></p>
</div>
</article>
</div>
    </main>

    <footer class="site-footer">
      <div class="wrapper">
        <small>with Eleventy and GitHub Actions üöÄ</small>
      </div>
    </footer>
  </body>
</html>
